{"ast":null,"code":"'use strict';\n\nvar worker = function () {\n  var window = self.window = self;\n  function ManagedWorker() {\n    this._listeners = {};\n  }\n  ManagedWorker.prototype.on = function (event, callback) {\n    if (this._listeners[event]) throw new RangeError('there is already a listener for ' + event);\n    if (typeof callback !== 'function') throw new TypeError('callback argument must be a function');\n    this._listeners[event] = callback;\n  };\n  ManagedWorker.prototype._send = function (id, data, transferable) {\n    if (transferable === undefined) {\n      transferable = [];\n    } else if (!Array.isArray(transferable)) {\n      transferable = [transferable];\n    }\n    self.postMessage({\n      id: id,\n      data: data\n    }, transferable);\n  };\n  ManagedWorker.prototype._trigger = function (event, args) {\n    if (!this._listeners[event]) throw new Error('event ' + event + ' is not defined');\n    this._listeners[event].apply(null, args);\n  };\n  var worker = new ManagedWorker();\n  self.onmessage = function (event) {\n    switch (event.data.action) {\n      case 'exec':\n        event.data.args.unshift(function (data, transferable) {\n          worker._send(event.data.id, data, transferable);\n        });\n        worker._trigger(event.data.event, event.data.args);\n        break;\n      case 'ping':\n        worker._send(event.data.id, 'pong');\n        break;\n      default:\n        throw new Error('unexpected action: ' + event.data.action);\n    }\n  };\n  \"CODE\";\n};\nvar workerStr = worker.toString().split('\"CODE\";');\nexports.newWorkerURL = function newWorkerURL(code, deps) {\n  var blob = new Blob(['(', workerStr[0], 'importScripts.apply(self, ' + JSON.stringify(deps) + ');\\n', '(', code, ')();', workerStr[1], ')();'], {\n    type: 'application/javascript'\n  });\n  return URL.createObjectURL(blob);\n};","map":{"version":3,"names":["worker","window","self","ManagedWorker","_listeners","prototype","on","event","callback","RangeError","TypeError","_send","id","data","transferable","undefined","Array","isArray","postMessage","_trigger","args","Error","apply","onmessage","action","unshift","workerStr","toString","split","exports","newWorkerURL","code","deps","blob","Blob","JSON","stringify","type","URL","createObjectURL"],"sources":["C:/Users/Admin/Documents/Workspace/opencv/opencv/node_modules/web-worker-manager/src/workerTemplate.js"],"sourcesContent":["'use strict';\n\nvar worker = function () {\n    var window = self.window = self;\n    function ManagedWorker() {\n        this._listeners = {};\n    }\n    ManagedWorker.prototype.on = function (event, callback) {\n        if (this._listeners[event])\n            throw new RangeError('there is already a listener for ' + event);\n        if (typeof callback !== 'function')\n            throw new TypeError('callback argument must be a function');\n        this._listeners[event] = callback;\n    };\n    ManagedWorker.prototype._send = function (id, data, transferable) {\n        if (transferable === undefined) {\n            transferable = [];\n        } else if (!Array.isArray(transferable)) {\n            transferable = [transferable];\n        }\n        self.postMessage({\n            id: id,\n            data: data\n        }, transferable);\n    };\n    ManagedWorker.prototype._trigger = function (event, args) {\n        if (!this._listeners[event])\n            throw new Error('event ' + event + ' is not defined');\n        this._listeners[event].apply(null, args);\n    };\n    var worker = new ManagedWorker();\n    self.onmessage = function (event) {\n        switch(event.data.action) {\n            case 'exec':\n                event.data.args.unshift(function (data, transferable) {\n                    worker._send(event.data.id, data, transferable);\n                });\n                worker._trigger(event.data.event, event.data.args);\n                break;\n            case 'ping':\n                worker._send(event.data.id, 'pong');\n                break;\n            default:\n                throw new Error('unexpected action: ' + event.data.action);\n        }\n    };\n    \"CODE\";\n};\n\nvar workerStr = worker.toString().split('\"CODE\";');\n\nexports.newWorkerURL = function newWorkerURL(code, deps) {\n    var blob = new Blob(['(', workerStr[0], 'importScripts.apply(self, ' + JSON.stringify(deps) + ');\\n', '(', code, ')();', workerStr[1], ')();'], {type: 'application/javascript'});\n    return URL.createObjectURL(blob);\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}