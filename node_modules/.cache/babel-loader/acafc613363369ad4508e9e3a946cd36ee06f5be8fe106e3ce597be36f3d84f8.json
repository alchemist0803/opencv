{"ast":null,"code":"/**\n * Converts a factor value to a number between 0 and 1\n * @private\n * @param {string|number} value\n * @return {number}\n */\nexport function getFactor(value) {\n  if (typeof value === 'string') {\n    const last = value[value.length - 1];\n    value = parseFloat(value);\n    if (last === '%') {\n      value /= 100;\n    }\n  }\n  return value;\n}\n\n/**\n * We can specify a threshold as \"0.4\", \"40%\" or 123\n * @private\n * @param {string|number} value\n * @param {number} maxValue\n * @return {number}\n */\nexport function getThreshold(value, maxValue) {\n  if (!maxValue) {\n    throw Error('getThreshold : the maxValue should be specified');\n  }\n  if (typeof value === 'string') {\n    let last = value[value.length - 1];\n    if (last !== '%') {\n      throw Error('getThreshold : if the value is a string it must finish by %');\n    }\n    return parseFloat(value) / 100 * maxValue;\n  } else if (typeof value === 'number') {\n    if (value < 1) {\n      return value * maxValue;\n    }\n    return value;\n  } else {\n    throw Error('getThreshold : the value is not valid');\n  }\n}\nexport function factorDimensions(factor, width, height) {\n  factor = getFactor(factor);\n  let newWidth = Math.round(factor * width);\n  let newHeight = Math.round(factor * height);\n  if (newWidth <= 0) {\n    newWidth = 1;\n  }\n  if (newHeight <= 0) {\n    newHeight = 1;\n  }\n  return {\n    width: newWidth,\n    height: newHeight\n  };\n}","map":{"version":3,"names":["getFactor","value","last","length","parseFloat","getThreshold","maxValue","Error","factorDimensions","factor","width","height","newWidth","Math","round","newHeight"],"sources":["C:/Users/Admin/Documents/Workspace/opencv/opencv/node_modules/image-js/src/util/converter.js"],"sourcesContent":["/**\n * Converts a factor value to a number between 0 and 1\n * @private\n * @param {string|number} value\n * @return {number}\n */\nexport function getFactor(value) {\n  if (typeof value === 'string') {\n    const last = value[value.length - 1];\n    value = parseFloat(value);\n    if (last === '%') {\n      value /= 100;\n    }\n  }\n  return value;\n}\n\n/**\n * We can specify a threshold as \"0.4\", \"40%\" or 123\n * @private\n * @param {string|number} value\n * @param {number} maxValue\n * @return {number}\n */\nexport function getThreshold(value, maxValue) {\n  if (!maxValue) {\n    throw Error('getThreshold : the maxValue should be specified');\n  }\n  if (typeof value === 'string') {\n    let last = value[value.length - 1];\n    if (last !== '%') {\n      throw Error(\n        'getThreshold : if the value is a string it must finish by %',\n      );\n    }\n    return (parseFloat(value) / 100) * maxValue;\n  } else if (typeof value === 'number') {\n    if (value < 1) {\n      return value * maxValue;\n    }\n    return value;\n  } else {\n    throw Error('getThreshold : the value is not valid');\n  }\n}\n\nexport function factorDimensions(factor, width, height) {\n  factor = getFactor(factor);\n  let newWidth = Math.round(factor * width);\n  let newHeight = Math.round(factor * height);\n\n  if (newWidth <= 0) {\n    newWidth = 1;\n  }\n  if (newHeight <= 0) {\n    newHeight = 1;\n  }\n  return {\n    width: newWidth,\n    height: newHeight,\n  };\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,SAASA,CAACC,KAAK,EAAE;EAC/B,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC7B,MAAMC,IAAI,GAAGD,KAAK,CAACA,KAAK,CAACE,MAAM,GAAG,CAAC,CAAC;IACpCF,KAAK,GAAGG,UAAU,CAACH,KAAK,CAAC;IACzB,IAAIC,IAAI,KAAK,GAAG,EAAE;MAChBD,KAAK,IAAI,GAAG;IACd;EACF;EACA,OAAOA,KAAK;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASI,YAAYA,CAACJ,KAAK,EAAEK,QAAQ,EAAE;EAC5C,IAAI,CAACA,QAAQ,EAAE;IACb,MAAMC,KAAK,CAAC,iDAAiD,CAAC;EAChE;EACA,IAAI,OAAON,KAAK,KAAK,QAAQ,EAAE;IAC7B,IAAIC,IAAI,GAAGD,KAAK,CAACA,KAAK,CAACE,MAAM,GAAG,CAAC,CAAC;IAClC,IAAID,IAAI,KAAK,GAAG,EAAE;MAChB,MAAMK,KAAK,CACT,6DACF,CAAC;IACH;IACA,OAAQH,UAAU,CAACH,KAAK,CAAC,GAAG,GAAG,GAAIK,QAAQ;EAC7C,CAAC,MAAM,IAAI,OAAOL,KAAK,KAAK,QAAQ,EAAE;IACpC,IAAIA,KAAK,GAAG,CAAC,EAAE;MACb,OAAOA,KAAK,GAAGK,QAAQ;IACzB;IACA,OAAOL,KAAK;EACd,CAAC,MAAM;IACL,MAAMM,KAAK,CAAC,uCAAuC,CAAC;EACtD;AACF;AAEA,OAAO,SAASC,gBAAgBA,CAACC,MAAM,EAAEC,KAAK,EAAEC,MAAM,EAAE;EACtDF,MAAM,GAAGT,SAAS,CAACS,MAAM,CAAC;EAC1B,IAAIG,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACL,MAAM,GAAGC,KAAK,CAAC;EACzC,IAAIK,SAAS,GAAGF,IAAI,CAACC,KAAK,CAACL,MAAM,GAAGE,MAAM,CAAC;EAE3C,IAAIC,QAAQ,IAAI,CAAC,EAAE;IACjBA,QAAQ,GAAG,CAAC;EACd;EACA,IAAIG,SAAS,IAAI,CAAC,EAAE;IAClBA,SAAS,GAAG,CAAC;EACf;EACA,OAAO;IACLL,KAAK,EAAEE,QAAQ;IACfD,MAAM,EAAEI;EACV,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}